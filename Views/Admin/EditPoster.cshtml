@model SkyLegends.Models.Poster

@{
    ViewData["Title"] = "Modifica Poster";
    Layout = "_Layout";
}

<div class="page-shell bg-jet-black">
    <div class="page-container max-w-3xl">
        <h1 class="text-2xl sm:text-3xl font-bold text-white mb-6">Modifica Poster</h1>

        <form asp-action="EditPoster" enctype="multipart/form-data" class="space-y-6">
            <div asp-validation-summary="ModelOnly" class="text-red-500"></div>
            <input type="hidden" asp-for="Id" />
            <input type="hidden" asp-for="ImageUrl" />
            <input type="hidden" asp-for="CreatedAt" />

            <div>
                <label asp-for="Title" class="block text-sm font-medium text-gray-300">Titolo</label>
                <input asp-for="Title"
                    class="mt-1 block w-full bg-titanium-grey border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-afterburner-red focus:border-afterburner-red sm:text-sm" />
                <span asp-validation-for="Title" class="text-red-500 text-sm"></span>
            </div>

            <div>
                <label asp-for="Description" class="block text-sm font-medium text-gray-300">Descrizione</label>
                <textarea asp-for="Description" rows="3"
                    class="mt-1 block w-full bg-titanium-grey border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-afterburner-red focus:border-afterburner-red sm:text-sm"></textarea>
                <span asp-validation-for="Description" class="text-red-500 text-sm"></span>
            </div>

            <div>
                <label asp-for="Tags" class="block text-sm font-medium text-gray-300">Tags</label>
                <input asp-for="Tags"
                    class="mt-1 block w-full bg-titanium-grey border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-afterburner-red focus:border-afterburner-red sm:text-sm" />
                <span asp-validation-for="Tags" class="text-red-500 text-sm"></span>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <div>
                    <label asp-for="Price" class="block text-sm font-medium text-gray-300">Prezzo (â‚¬)</label>
                    <input asp-for="Price" type="number" step="0.01" min="0"
                        class="mt-1 block w-full bg-titanium-grey border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-afterburner-red focus:border-afterburner-red sm:text-sm" />
                    <span asp-validation-for="Price" class="text-red-500 text-sm"></span>
                </div>
                <div class="flex items-center pt-6">
                    <input asp-for="IsAvailable" type="checkbox"
                        class="h-4 w-4 text-afterburner-red rounded border-gray-600 bg-titanium-grey focus:ring-afterburner-red" />
                    <label asp-for="IsAvailable" class="ml-2 block text-sm text-gray-300">Disponibile</label>
                </div>
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-300">Cambia Immagine (Opzionale)</label>
                <div class="mt-2 flex flex-col gap-3 sm:flex-row sm:items-center">
                    <img src="@Model.ImageUrl" alt="Current Image" class="h-12 w-12 object-cover rounded bg-gray-700">
                    <input type="file" name="imageFile" class="block w-full text-sm text-gray-400
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-full file:border-0
                      file:text-sm file:font-semibold
                      file:bg-afterburner-red file:text-white
                      hover:file:bg-red-700
                    " />
                </div>
            </div>

            <div class="flex flex-col-reverse gap-3 sm:flex-row sm:items-center sm:justify-end">
                <a asp-action="Posters"
                    class="text-sm font-medium text-gray-400 hover:text-white text-center">Annulla</a>
                <button type="submit"
                    class="w-full sm:w-auto bg-afterburner-red hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300">
                    Salva Modifiche
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
